{% extends 'index.html' %}
{% block extrahead %}
    {% load staticfiles %}
{% endblock %}
{% block content %}
    <section id="target_select" ng-controller="targetCtrl">
        <div class="container">
            <div class="box first">
                <div class="portlet box blue">
                    <div class="portlet-title">
                        <div class="caption">
                            <i class="fa fa-table"></i>Data Sample Preview </div>
                        <div class="tools">
                            <a href="javascript:;" class="collapse"> </a>
                            <a href="#portlet-config" data-toggle="modal" class="config"> </a>
                            <a href="javascript:;" class="reload"> </a>
                            <a href="javascript:;" class="remove"> </a>
                        </div>
                    </div>
                    <div class="portlet-body">
                        <div class="table-responsive">
                            <table id="data_preview_table" class="table table-striped table-bordered table-hover">
                                <thead>
                                <tr>
                                    <th>#</th>
                                    {% for item in columns %}
                                        <th> {{ item }}</th>
                                    {% endfor %}
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>1</td>
                                    {% for header in columns %}
                                        {% for key,value in data_preview_samples.items %}
                                            {% if header == key  %}
                                                <td> {{ value.0 }}</td>
                                            {% endif %}
                                        {% endfor %}
                                    {% endfor %}
                                </tr>
                                <tr>
                                    <td>2</td>
                                    {% for header in columns %}
                                        {% for key,value in data_preview_samples.items %}
                                            {% if header == key  %}
                                                <td> {{ value.1 }}</td>
                                            {% endif %}
                                        {% endfor %}
                                    {% endfor %}
                                </tr>
                                <tr>
                                    <td>3</td>
                                    {% for header in columns %}
                                        {% for key,value in data_preview_samples.items %}
                                            {% if header == key  %}
                                                <td> {{ value.2 }}</td>
                                            {% endif %}
                                        {% endfor %}
                                    {% endfor %}
                                </tr>
                                <td>4</td>
                                {% for header in columns %}
                                    {% for key,value in data_preview_samples.items %}
                                        {% if header == key  %}
                                            <td> {{ value.4 }}</td>
                                        {% endif %}
                                    {% endfor %}
                                {% endfor %}
                                </tr>
                                <td>5</td>
                                {% for header in columns %}
                                    {% for key,value in data_preview_samples.items %}
                                        {% if header == key  %}
                                            <td> {{ value.5 }}</td>
                                        {% endif %}
                                    {% endfor %}
                                {% endfor %}
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="label-item id_chosen"></div><span>ID</span>
                        <div class="label-item target_chosen"></div><span>Target</span>
                    </div>
                </div>
                <h4 style="margin: 50px 0 0; font-weight: bold">Please select the ID and the Target of the data uploaded</h4>
                <div class="portleet-body form">
                    <form role="form" method="post" action="/save_id_target/" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="form-body">
                            <div class="form-group">
                                <label for="id_name">Please select the ID Of your data</label>
                                <select name="id_name" class="form-control" ng-model="id" ng-change="selectId()">
                                    {% for feature in feature_list %}
                                        <option value="{{ feature }}">{{ feature }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="target_name">Please select the Target of you data</label>
                                <select name="target_name" class="form-control" ng-model="target" ng-change="selectTarget()">
                                    {% for feature in feature_list %}
                                        <option value="{{ feature }}">{{ feature }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        {% for item in sample %}
                            <div>{{ item }}</div>
                        {% endfor %}
                        <button class="button button--antiman button--round-l button-text-medium button-bg" type="submit">
                            <i class="button__icon icon fa fa-check"></i>
                            <span>Submit</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>
{% endblock %}